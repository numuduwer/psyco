<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <!-- namespace : 내부에 쿼리태크 호출시 namespace속성명 쿼리태그 id값-->
 
 <mapper namespace="community">
 
 	<select id="countAll" parameterType="communityDTO" resultType="int">
 		select count(*) from community
 	</select>
 	
 	
 	<select id="selectAll" parameterType="hashmap" resultType="communityDTO">
  		<![CDATA[
  		select community_num,subject,content,writer,ref,re_step,re_level,reg,r
		from (select community_num,subject,content,writer,ref,re_step,re_level,reg,rownum r
		from (select community_num,subject,content,writer,ref,re_step,re_level,reg
		from community order by ref desc, re_step asc) order by ref desc, re_step asc)
		where r >= #{start} and r <= #{end}
		]]>
  	</select>
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 </mapper>